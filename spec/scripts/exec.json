[
  {
    "description": "$exec call",
    "schema": { "$ref": "http://json-script.com/schema/schema.json" },
    "tests": [
      {
        "description": "with method and args",
        "data": {
          "$exec": "myobject",
          "$method": "doit",
          "$args": [1, 2, 3]
        },
        "valid": true
      },
      {
        "description": "with args",
        "data": {
          "$exec": "myfunc",
          "$args": [1, 2, 3]
        },
        "valid": true
      },
      {
        "description": "without args",
        "data": {
          "$exec": "myfunc"
        },
        "valid": true
      },
      {
        "description": "additional propertes are invalid",
        "data": {
          "$exec": "myfunc",
          "extra": {}
        },
        "valid": false
      },
      {
        "description": "valid if $args is a valid script",
        "data": {
          "$exec": "myfunc",
          "$args": {
            "$exec": "myfunc2",
            "$args": [1, 2, 3]
          }
        },
        "valid": true
      },
      {
        "description": "valid if $args contains valid scripts",
        "data": {
          "$exec": "myfunc",
          "$args": [
            {
              "$exec": "myfunc2",
              "$args": [1, 2, 3]
            },
            {
              "$exec": "myfunc2",
              "$args": [4, 5, 6]
            }
          ]
        },
        "valid": true
      },
      {
        "description": "invalid if $args is a invalid script",
        "data": {
          "$exec": "myfunc",
          "$args": {
            "$exec": "myfunc2",
            "extra": {}
          }
        },
        "valid": false
      },
      {
        "description": "invalid if $args contains invalid scripts",
        "data": {
          "$exec": "myfunc",
          "$args": [
            {
              "$exec": "myfunc2",
              "$args": [1, 2, 3]
            },
            {
              "$exec": "myfunc2",
              "extra": {}
            }
          ]
        },
        "valid": false
      }
    ]
  }
]